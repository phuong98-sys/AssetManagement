<div bsModal #EditAssetIncreaseModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" >
    <div class="modal-dialog modal-lg">
        <div class="modal-content" busyIf="loading">
            <form #assetForm="ngForm" novalidate (ngSubmit)="save()" (keydown.enter)="$event.preventDefault()">
                <div class="modal-header">
                    <h4 class="modal-title title-page">
                        <span >{{"Sửa tài sản:" | localize}} {{asset.assetName}}</span>
                    </h4>
                    <button type="button" class="close" (click)="close()" [disabled]="saving">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body row">
                    <!-- <div class="form-group row">
                        <div class="col-6 pd-0">
                            <label for="AssetCode">{{"Mã tài sản" | localize}} *</label>
                            <input id="AssetCode" #assetCode="ngModel" type="text" name="AssetCode" class="form-control" [(ngModel)]="asset.assetCode" required maxlength="256" />
                            <div style="display: grid;">
                                <span class="text-note">Nhập mã tài sản để tìm kiếm thông tin tài sản</span>
                                <span class="error-message" *ngIf="asset.assetCode">{{assetMessage}}</span>
                            </div>
                            
                        </div>
                        <div class="col-3" >
                            <button class="btn btn-search-asset" (click)="searchAsset()">Kiểm tra</button>
                        </div>
                    </div> -->
                    <!-- <div class="form-group">
                        <label for="startDate">{{"Ngày bắt đầu sử dụng" | localize}} </label>
                        <input id="startDate" #startDate="ngModel" type="date" name="startDate" class="form-control" [(ngModel)]="asset.startDate" required maxlength="256" />
                        <span *ngIf="!asset?.startDate" class="error-message">Trường này không được để trống</span>
                    </div> -->
                    <!-- <div class="form-group col-4">
                        <label for="department">{{"Bộ phận sử dụng" | localize}} *</label>
                        <p-dropdown id="department" #department="ngModel" name="department" [options]="departmentList"
                        [(ngModel)]="selectedDepartment" placeholder="{{ l('Chọn bộ phận sử dụng') }}" optionLabel="departmentName"
                        styleClass="form-control brandSelection-dropdown" (onChange)="onSelectDepartmet()" required disable>
                        </p-dropdown>
                    </div>
                    <div class="form-group col-4" *ngIf="asset.employeeId">
                        <label for="employee">{{"Người sử dụng" | localize}}</label>
                        <p-dropdown id="employee" #employee="ngModel" name="employee" [options]="employeeList"
                        [(ngModel)]="selectedemployee" placeholder="{{ l('Chọn người sử dụng') }}" optionLabel="employeeName"
                        styleClass="form-control brandSelection-dropdown" (onChange)="onSelectEmployee()" required>
                        </p-dropdown>
                    </div> -->
                   
                    <div class="form-group col-6">
                        <label for="OrginalPrice">{{"Nguyên giá" | localize}}( đồng)</label>
                        <input id="OrginalPrice" #orginalPrice="ngModel" type="number" name="OrginalPrice" class="form-control" [(ngModel)]="asset.orginalPrice" required min="1" (change)="getAmortizationValueAndResidualValue()"/>
                       
                    </div>
                    <div class="form-group col-6">
                        <label for="depreciationOfAsset">{{"Hao mòn lũy kế" | localize}}( đồng)</label>
                        <input id="depreciationOfAsset" #depreciationOfAsset="ngModel" type="number" name="depreciationOfAsset" class="form-control" [(ngModel)]="asset.depreciationOfAsset" min="0" (change)="checkDepreciationOfAsset()"/>
                        <div style="display: grid;">
                            <span  class="text-note" *ngIf="asset.orginalPrice">Giá trị phải nhỏ hơn nguyên giá</span>
                            <span  class="error-message" *ngIf="asset.depreciationOfAsset">{{depreciationOfAssetMessage}}</span>
                        </div>
                    </div>
                    <div class="form-group col-4">
                        <label for="NumberOfDayUsedAsset">{{"Thời gian sử dụng" | localize}}(năm)</label>
                        <input id="NumberOfDayUsedAsset" #numberOfDayUsedAsset="ngModel" type="number" name="NumberOfDayUsedAsset" class="form-control" [(ngModel)]="asset.numberOfDayUsedAsset" (change)="renderAmortizationValue()" disabled/>
                    </div>
                    <div class="form-group col-4">
                        <label for="annualAmortizationValue">{{"Giá trị khấu hao năm" | localize}} (đồng)</label>
                        <input id="annualAmortizationValue" #annualAmortizationValue="ngModel" type="number" name="annualAmortizationValue" class="form-control" [(ngModel)]="asset.annualAmortizationValue" disabled/>
                    </div>
                    <div class="form-group col-4">
                        <label for="residualValue">{{"Giá trị còn lại" | localize}} (đồng)</label>
                        <input id="residualValue" #residualValue="ngModel" type="number" name="residualValue" class="form-control" [(ngModel)]="asset.residualValue" disabled/>
                        
                    </div>
                    <div class="form-group col-4">
                        <label for="departmentName">{{"Bộ phận sử dụng" | localize}} </label>
                        <input id="departmentName" #departmentName="ngModel" type="text" name="departmentName" class="form-control" [(ngModel)]="asset.departmentName" disabled/>   
                    </div>
                    <div class="form-group col-4">
                        <label for="employeeName">{{"Người sử dụng" | localize}} </label>
                        <input id="employeeName" #assetTypeName="ngModel" type="text" name="employeeName" class="form-control" [(ngModel)]="asset.employeeName" disabled/>   
                    </div>
                    <div class="form-group col-4">
                        <label for="AssetTypeName">{{"Loại tài sản" | localize}} </label>
                        <input id="AssetTypeName" #assetTypeName="ngModel" type="text" name="AssetTypeName" class="form-control" [(ngModel)]="asset.assetTypeName" disabled/>   
                    </div>
                </div>   
                <div class="modal-footer">
                    <button [disabled]="saving" type="button" class="btn btn-cancel" (click)="close()">{{"Hủy" |
                        localize}}</button>
                    <!-- <button type="submit" class="btn btn-primary" buttonBusy="saving" busyText="l('SavingWithThreeDot')" [disabled]="!asset.numberOfDayUsedAsset"><i class="fa fa-save" style="margin-right: 5px" ></i>
                        <span>{{"Lưu" | localize}}</span></button>
                    <div> -->
                        <button type="submit" class="btn btn-increase-asset" buttonBusy="saving" busyText="l('SavingWithThreeDot')" (click)="save()" [disabled]="!asset.orginalPrice || depreciationOfAssetMessage != ''">Lưu</button>
                        <!--  -->
                    <!-- </div> -->
                </div>             
            </form>
            
        </div>
    </div>
</div>