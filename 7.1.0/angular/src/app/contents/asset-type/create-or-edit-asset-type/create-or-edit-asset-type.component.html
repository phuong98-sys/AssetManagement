
<div busyIf="loading">
    <form #assetTypeForm="ngForm" novalidate (ngSubmit)="save()" (keydown.enter)="$event.preventDefault()">
        <div class="header-title-container main-header navbar navbar-expand navbar-white navbar-light" style="margin-left: 0 !important">
            <h4 class="header-title">
                <span class="title-page parent-title" (click)="close()">Loại tài sản</span>
                <span class="kt-subheader__separator kt-subheader__separator--v"></span>
                <span class="title-page title-child" *ngIf="assetTypeId">{{"Sửa loại tài sản" | localize}}: {{assetType.assetTypeName}}</span>
                <span class="title-page title-child" *ngIf="!assetTypeId">{{"Tạo mới loại tài sản" | localize}}</span>
            </h4>
        </div>
        <div class="modal-body row">
            <div class="form-group col-4">
                <label for="AssetTypeCode">{{"Mã loại tài sản" | localize}} *</label>
                <input id="AssetTypeCode" #assetTypeCode="ngModel" type="text" name="assetTypeCode" class="form-control" [(ngModel)]="assetType.assetTypeCode" required maxlength="256" (change)="setAssetTypeCode()"/>
                <span *ngIf="!assetType?.assetTypeCode" style="color:red; font-size: 12px;">Trường này không được để trống</span>
                <span style="color:red; font-size: 12px;">{{assetTypeCodeMessage}}</span>
            </div>
            <div class="form-group col-4">
                <label for="AssetTypeName">{{"Tên loại tài sản" | localize}} *</label>
                <input id="AssetTypeName" #assetTypeName="ngModel" type="text" name="AssetTypeName" class="form-control" [(ngModel)]="assetType.assetTypeName" required maxlength="256" />
                <span *ngIf="!assetType?.assetTypeName" style="color:red; font-size: 12px;">Trường này không được để trống</span>
            </div>

            <div class="form-group col-4">
                <label for="note">{{"Ghi chú" | localize}}</label>
                <input id="assetTypeNote" #note="ngModel" rows="4" cols="50" name="assetTypeNote" class="form-control" [(ngModel)]="assetType.note"/>

            </div>
            <div class="form-group col-4">
                <label for="assetTypeParent">{{"Mã loại tài sản cha" | localize}} </label>
                <p-dropdown id="assetTypeParent" #handlingMethod="ngModel" name="assetTypeParent" [options]="assetTypeParentList"
                [(ngModel)]="selectedassetTypeParent" placeholder="{{ l('Chọn mã loại ài sản cha') }}" optionLabel="assetTypeName"
                styleClass="form-control brandSelection-dropdown" required>
                </p-dropdown>
            </div>
            <div class="form-group col-4">
                <label for="minNumberOfYearDepreciation">{{"Thời gian tối thiếu trích khấu hao (năm)" | localize}} *</label>
                <input id="minNumberOfYearDepreciation" #minNumberOfYearDepreciation="ngModel" type="number" name="minNumberOfYearDepreciation" class="form-control" [(ngModel)]="assetType.minNumberOfYearDepreciation" required maxlength="256" />
                <span *ngIf="!assetType?.minNumberOfYearDepreciation" style="color:red; font-size: 12px;">Trường này không được để trống</span>
            </div>
            <div class="form-group col-4">
                <label for="maxNumberOfYearDepreciation">{{"Thời gian tối đa trích khấu hao (năm)" | localize}} *</label>
                <input id="maxNumberOfYearDepreciation" #maxNumberOfYearDepreciation="ngModel" type="number" name="maxNumberOfYearDepreciation" class="form-control" [(ngModel)]="assetType.maxNumberOfYearDepreciation" required maxlength="256" />
                <span *ngIf="!assetType?.maxNumberOfYearDepreciation" style="color:red; font-size: 12px;">Trường này không được để trống</span>
            </div>
        </div>       
        <div class="modal-footer">
            <button [disabled]="saving" type="button" class="btn bg-danger" (click)="close()">{{"Hủy" |
                localize}}</button>
            <button type="submit" class="btn btn-primary" buttonBusy="saving" busyText="l('SavingWithThreeDot')" [disabled]="!assetTypeForm.form.valid || ( assetTypeCodeMessage != '') "><i class="fa fa-save" style="margin-right: 5px"></i>
                <span>{{"Lưu" | localize}}</span></button>
        </div>
    </form>
</div>
