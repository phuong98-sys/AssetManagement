
<div busyIf="loading">
    <form #departmentForm="ngForm" novalidate (ngSubmit)="save()" (keydown.enter)="$event.preventDefault()">
        <div class="header-title-container main-header navbar navbar-expand navbar-white navbar-light" style="margin-left: 0 !important">
            <h4 class="header-title">
                <span class="title-page parent-title" (click)="close()">Bộ phận</span>
                <span class="kt-subheader__separator kt-subheader__separator--v"></span>
                <span class="title-page title-child" *ngIf="departmentId">{{"Sửa Bộ phận" | localize}}: {{department.departmentName}}</span>
                <span class="title-page title-child" *ngIf="!departmentId">{{"Tạo mới bộ phận" | localize}}</span>
            </h4>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="DepartmentCode">{{"Mã bộ phận" | localize}} *</label>
                <input id="DepartmentCode" #departmentCode="ngModel" type="text" name="departmentCode" class="form-control" [(ngModel)]="department.departmentCode" required maxlength="256" (change)="setDepartmentCode()"/>
                <span *ngIf="!department?.departmentCode" style="color:red; font-size: 12px;">Trường này không được để trống</span>
                <span style="color:red; font-size: 12px;">{{departmentCodeMessage}}</span>
            </div>
            <div class="form-group">
                <label for="DepartmentName">{{"Tên Bộ phận" | localize}} *</label>
                <input id="DepartmentName" #departmentName="ngModel" type="text" name="DepartmentName" class="form-control" [(ngModel)]="department.departmentName" required maxlength="256" />
                <span *ngIf="!department?.departmentName" style="color:red; font-size: 12px;">Trường này không được để trống</span>
            </div>
            <div class="form-group">
                <label for="Description">{{"Mô tả" | localize}}</label>
                <textarea id="Description" #description="ngModel" rows="4" cols="50" name="Description" class="form-control" [(ngModel)]="department.description">
                </textarea>
            </div>
            <div class="form-group">
                <label for="note">{{"Ghi chú" | localize}}</label>
                <textarea id="departmentNote" #note="ngModel" rows="4" cols="50" name="departmentNote" class="form-control" [(ngModel)]="department.note">
                </textarea>
            </div>
        </div>       
        <div class="modal-footer">
            <button [disabled]="saving" type="button" class="btn bg-danger" (click)="close()">{{"Hủy" |
                localize}}</button>
            <button type="submit" class="btn btn-primary" buttonBusy="saving" busyText="l('SavingWithThreeDot')" [disabled]="!departmentForm.form.valid || ( departmentCodeMessage != '') "><i class="fa fa-save" style="margin-right: 5px"></i>
                <span>{{"Lưu" | localize}}</span></button>
        </div>
    </form>
</div>
